(function(c,h){c.console=c.console||{log:function(){}};c.CWinberry=c.CWinberry||{};c.CWinberry.Templating=c.CWinberry.Templating||{};ct=c.CWinberry.Templating;var f={};ct.render=function(a,d){return this.loadTemplate(a)(d)};ct.loadTemplate=function(a){if(f[a])return f[a];var d=h("#"+a);if(0===d.length)throw"Unrecognized template ID: "+a;f[a]=this.compile(d.text());return f[a]};ct.compile=function(a){function d(a,c,b){b=!!b;a.push("\tprint(");a.push(b?c:'"'+c.split("\r").join("\\r").split("\n").join("\\n").split("\t").join("\\t").split('"').join('\\"')+ '"');a.push(");\n")}function c(a,b){0===b.indexOf("=")?d(a,b.substring(1,b.length),!0):a.push("\t"+b)}for(var e=[],f=/(<%|%>)/g,g=0,b="";f.test(a);){var b=f.lastIndex,i=a.substring(b-2,b);"<%"==i?d(e,a.substring(g,b-2)):c(e,a.substring(g,b-2));g=b;b=i}g<a.length&&("%>"===b||""===b?d(e,a.substring(g,a.length)):c(e,a.substring(g,a.length)));a=" var __output = [];\n var print = function () {\n __output.push.apply(__output, arguments);\n };\n var renderTemplate = function (templateId, data) {\n print(CWinberry.Templating.render(templateId, data));\n };\n"+ e.join("")+" return(__output.join(''));";e=null;try{e=new Function("data",a)}catch(h){throw"Failed to compile template: "+h;}return e}})(window,jQuery);